# רעיונות לשיפור – מערכות חדשות, רדארים, ואופטימיזציה

## מערכות נשק חדשות (רעיונות)

| מערכת | תיאור | targetTypes מוצע | מכניקה |
|--------|--------|------------------|--------|
| **דוד (David's Sling)** | טווח בינוני–ארוך, נגד שיוט ובליסטי | cruise, ballistic | עלות בינונית, טיל מהיר |
| **מגן אווירי (C-DOME / Naval)** | הגנה נקודתית סביב עיר/נקודה | rocket, drone, cruise | טווח קצר מאוד, רדיוס סביב נקודה |
| **חץ 2** | גרסה קודמת לחץ 3, טווח בינוני–ארוך | ballistic, cruise | זול מחץ 3, פחות דיוק |
| **תותח נגד מטוסים (AAA)** | ירי רצוף נגד נמוכים | drone, helicopter, fighter | נזק נמוך, ללא תחמושת "טילים" |
| **רקטת אוויר–אוויר (AAM)** | נורת ממטוס/מסוק ידידותי | ballistic, cruise, fighter | מוגבל למספר שיגורים במשחק |
| **מערכת לוחמה אלקטרונית (EW)** | לא יירוט – השבתת איום ל־X שניות | cruise, drone | עיכוב במקום השמדה |

---

## רדארים חדשים (רעיונות)

| רדאר | תיאור | יתרון |
|------|--------|--------|
| **L‑band / מתקדם חמקנים** | זיהוי חמקנים במרחק סביר | stealth מזוהה מרחוק יותר |
| **רדאר ימי** | זיהוי איומים שמגיעים מהים | טווח גדול לכיוון הים, קטן ליבשה |
| **חיישן IR (אינפרא אדום)** | זיהוי לפי חום | מזהה stealth חלקית, טווח בינוני |
| **רשת רדארים** | שני רדארים באותו אזור = בונוס טווח | עידוד פריסה חכמה |

---

## לייזר – מטרות, זמנים ועדיפות

- **מטרות:** הלייזר יודע להוריד **כל סוג איום** שנמצא בטווח וזוהה על ידי הרדאר (כטב"ם, רקטה, שיוט, בליסטי, מטוס, מסוק, פצצת דאייה, חמקן, EMP וכו') – אין סינון לפי סוג.
- **עדיפות:** הלייזר נותן **עדיפות לכטב"מים (דרונים)** – אם יש בטווח גם כטב"ם וגם איום אחר, הוא יבחר קודם את הכטב"ם. אחרי כטב"מים – המטרה הקרובה ביותר.
- **זמן הורדה:** כ־2 שניות לכל מטרה (1 HP).
- **השהיה בין מטרות:** לאחר הורדת מטרה, הלייזר ממתין שנייה לפני כיוון למטרה הבאה.

---

## רעיונות נוספים

- **מצב קשה / קל** – בחירת רמת קושי (פחות/יותר תקציב, מורל, איומים).
- **אתגר שבועי** – סט גלים קבוע עם לוח זמנים, פרסים לפי דירוג.
- **מפת חום** – הצגת אזורים "חמים" לפי היסטוריית פגיעות.
- **היסטוריית יירוטים** – לוג קצר: איזה מערכת יירטה איזה איום (לאתגרים/סטטיסטיקות).
- **התראת אויב** – "גל 7 – צפויים טילים בליסטיים" בתחילת גל.
- **שדרוגים ל־THAAD** – למשל טווח/מהירות טיל (בתשלום יהלומים או תקציב).
- **EMP משפיע על המפה** – אם EMP מגיע לעיר, רדארים/systems באזור מושבתים ל־X שניות (מכניקה עתידית).

---

## הצעות שיפור ואופטימיזציה

- **ביצועים**
  - הגבלת מספר האיומים המקבילים על המסך (cap) כדי לשמור על FPS.
  - צמצום re-renders ב־HUD (למשל memo לרכיבי סטטיסטיקה).
  - א pooling ל־particles/explosions אם יש הרבה פיצוצים.

- **ממשק**
  - קיצור דרך מקלדת: למשל R לפתיחת חנות, ESC לביטול הצבת סוללה.
  - טולטיפ על סוללה: סוג, תחמושת, טווח.
  - סימון ויזואלי כשסוללה "חסרת תחמושת" (THAAD / כיפת ברזל וכו').

- **איזון**
  - כוונון נזק מורל לפי סוג איום (כבר קיים – MORALE_DAMAGE_BY_THREAT).
  - כוונון תגמול כספי/יהלומים לפי קושי גל.
  - אפשרות לאבדן תקציב אם עיר נפגעה (עונש נוסף על מורל).

- **נגישות**
  - תמיכה ב־prefers-reduced-motion (הפחתת אנימציות).
  - ניגודיות גבוהה / מצב צבעים לכבדי ראייה.

- **טכני**
  - **ההצעה השלישית – בדיקות אוטומטיות:** בדיקות unit (Jest/Vitest) ו־e2e (Playwright/Cypress) שיבדקו זרימת משחק בסיסית: התחלת משחק, יירוט איום, סיום גל, פתיחת חנות. כך שינוי בקוד לא שובר את הליבה בלי לזהות. מומלץ ל־CI.
  - תיעוד קצר ל־constants (איזה ערך משפיע על מה) ב־constants.ts או ב־README.
